<template>
    <section class="banner-container">
        <div class="banner-content">
            <div class="banner-text">
                <div>NEW Local Coupon Available! Opt In Before</div>
                <div>{expirationDate}</div>
            </div>
            <div class="button-wrapper">
                <button class="opt-button" onclick={handleOptIn}>
                    {buttonText}
                </button>
            </div>
        </div>

        <template if:true={showForm}>
            <div class="form-container">
                <h2>Account Information</h2>
                <template if:true={isEditing}>
                    <div class="form-group">
                        <label for="accountName">Account Name</label>
                        <input type="text" id="accountName" class="form-input" 
                               value={accountData.Name} 
                               oninput={handleInputChange} 
                               data-field="Name" />
                    </div>

                    <div class="form-group">
                        <label for="accountType">Type</label>
                        <select id="accountType" class="form-input" 
                                value={accountData.Type} 
                                onchange={handleInputChange} 
                                data-field="Type">
                            <option value="">--None--</option>
                            <template for:each={typeOptions} for:item="option">
                                <option key={option.value} value={option.value}>{option.label}</option>
                            </template>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="accountIndustry">Industry</label>
                        <select id="accountIndustry" class="form-input" 
                                value={accountData.Industry} 
                                onchange={handleInputChange} 
                                data-field="Industry">
                            <option value="">--None--</option>
                            <template for:each={industryOptions} for:item="option">
                                <option key={option.value} value={option.value}>{option.label}</option>
                            </template>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="accountPhone">Phone</label>
                        <input type="text" id="accountPhone" class="form-input" 
                               value={accountData.Phone} 
                               oninput={handleInputChange} 
                               data-field="Phone" />
                    </div>

                    <div class="form-group">
                        <label for="accountExpirationDate">Expiration Date</label>
                        <input type="date" id="accountExpirationDate" class="form-input" 
                               value={accountData.Expiration_date__c} 
                               onchange={handleInputChange} 
                               data-field="Expiration_date__c" />
                    </div>

                    <div class="form-buttons">
                        <button class="save-button" onclick={handleSave}>Save</button>
                        <button class="cancel-button" onclick={handleCancel}>Cancel</button>
                    </div>
                </template>

                <template if:false={isEditing}>
                    <div class="display-data">
                        <div class="data-row">
                            <span class="data-label">Account Name:</span>
                            <span class="data-value">{accountData.Name}</span>
                        </div>
                        <div class="data-row">
                            <span class="data-label">Type:</span>
                            <span class="data-value">{accountData.Type}</span>
                        </div>
                        <div class="data-row">
                            <span class="data-label">Industry:</span>
                            <span class="data-value">{accountData.Industry}</span>
                        </div>
                        <div class="data-row">
                            <span class="data-label">Phone:</span>
                            <span class="data-value">{accountData.Phone}</span>
                        </div>
                        <div class="data-row">
                            <span class="data-label">Expiration Date:</span>
                            <span class="data-value">{accountData.Expiration_date__c}</span>
                        </div>
                    </div>
                    <div class="form-buttons">
                        <button class="edit-button" onclick={handleEdit}>Edit</button>
                    </div>
                </template>
            </div>
        </template>
    </section>
</template>